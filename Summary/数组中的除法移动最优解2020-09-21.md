# æ•°ç»„ä¸­çš„é™¤æ³•ç§»åŠ¨æœ€ä¼˜è§£

## [1553. åƒæ‰ N ä¸ªæ©˜å­çš„æœ€å°‘å¤©æ•°](https://leetcode-cn.com/problems/minimum-number-of-days-to-eat-n-oranges/)

> å¨æˆ¿é‡Œæ€»å…±æœ‰ n ä¸ªæ©˜å­ï¼Œä½ å†³å®šæ¯ä¸€å¤©é€‰æ‹©å¦‚ä¸‹æ–¹å¼ä¹‹ä¸€åƒè¿™äº›æ©˜å­ï¼š
>
> åƒæ‰ä¸€ä¸ªæ©˜å­ã€‚
> å¦‚æœå‰©ä½™æ©˜å­æ•° n èƒ½è¢« 2 æ•´é™¤ï¼Œé‚£ä¹ˆä½ å¯ä»¥åƒæ‰ n/2 ä¸ªæ©˜å­ã€‚
> å¦‚æœå‰©ä½™æ©˜å­æ•° n èƒ½è¢« 3 æ•´é™¤ï¼Œé‚£ä¹ˆä½ å¯ä»¥åƒæ‰ 2*(n/3) ä¸ªæ©˜å­ã€‚
> æ¯å¤©ä½ åªèƒ½ä»ä»¥ä¸Š 3 ç§æ–¹æ¡ˆä¸­é€‰æ‹©ä¸€ç§æ–¹æ¡ˆã€‚
>
> è¯·ä½ è¿”å›åƒæ‰æ‰€æœ‰ n ä¸ªæ©˜å­çš„æœ€å°‘å¤©æ•°ã€‚
>

> **æç¤ºï¼š**
> - 1 <= n <= 2*10^9
> ---
> - æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
> - é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/minimum-number-of-days-to-eat-n-oranges
> - è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

### æ–¹æ³•ï¼šè®°å¿†åŒ–æœç´¢

ä½¿æ©˜å­ğŸŠæ•°é‡å‡å°‘æœ€å¿«çš„æ–¹æ³•ä¸ºä»¥ä¸‹ä¹‹ä¸€ï¼š

1. åƒæ‰éƒ¨åˆ†æ©˜å­ä½¿æ©˜å­ä¸ªæ•°æ­£å¥½ä¸º `2` çš„æ•´æ•°å€ï¼Œç„¶ååƒæ‰ `n//2` ä¸ªğŸŠ
2. åƒæ‰éƒ¨åˆ†æ©˜å­ä½¿æ©˜å­ä¸ªæ•°æ­£å¥½ä¸º `3` çš„æ•´æ•°å€ï¼Œç„¶ååƒæ‰ `2*n//3` ä¸ªğŸŠ

å¯ä»¥å¾—åˆ°ï¼š

- åƒæ‰ n ä¸ªæ©˜å­çš„æœ€å°‘å¤©æ•° = min(
  - èŠ± `n%2` å¤©åƒæ‰ `n%2` ä¸ªæ©˜å­ + èŠ± 1 å¤©åƒæ‰ `n//2` ä¸ªæ©˜å­ + åƒæ‰ `n//2` ä¸ªæ©˜å­çš„æœ€å°‘å¤©æ•°ï¼Œ
  - èŠ± `n%3` å¤©åƒæ‰ `n%3` ä¸ªæ©˜å­ + èŠ± 1 å¤©åƒæ‰ `2*n//3` ä¸ªæ©˜å­ + åƒæ‰ `n//3` ä¸ªæ©˜å­çš„æœ€å°‘å¤©æ•° )

##### ä»£ç å¦‚ä¸‹ï¼š

```python
class Solution:
    def dfs(self, n: int, dp) -> int:
        # print(n)
        if n in dp.keys():
            return dp[n]
        dp[n] = min(self.dfs(n//3,dp)+n%3+1,self.dfs(n//2,dp)+n%2+1)
        return dp[n]
        
    def minDays(self, n: int) -> int:
        dp = {1:1,0:0}
        return self.dfs(n,dp)
```

## [LCP 20. å¿«é€Ÿå…¬äº¤](https://leetcode-cn.com/problems/meChtZ/)

> å°æ‰£æ‰“ç®—å»ç§‹æ—¥å¸‚é›†ï¼Œç”±äºæ¸¸å®¢è¾ƒå¤šï¼Œå°æ‰£çš„ç§»åŠ¨é€Ÿåº¦å—åˆ°äº†äººæµå½±å“ï¼š
>
> å°æ‰£ä» x å·ç«™ç‚¹ç§»åŠ¨è‡³ x + 1 å·ç«™ç‚¹éœ€è¦èŠ±è´¹çš„æ—¶é—´ä¸º incï¼›
> å°æ‰£ä» x å·ç«™ç‚¹ç§»åŠ¨è‡³ x - 1 å·ç«™ç‚¹éœ€è¦èŠ±è´¹çš„æ—¶é—´ä¸º decã€‚
> ç°æœ‰ m è¾†å…¬äº¤è½¦ï¼Œç¼–å·ä¸º 0 åˆ° m-1ã€‚å°æ‰£ä¹Ÿå¯ä»¥é€šè¿‡æ­ä¹˜ç¼–å·ä¸º i çš„å…¬äº¤è½¦ï¼Œä» x å·ç«™ç‚¹ç§»åŠ¨è‡³ jump[i]*x å·ç«™ç‚¹ï¼Œè€—æ—¶ä»…ä¸º cost[i]ã€‚å°æ‰£å¯ä»¥æ­ä¹˜ä»»æ„ç¼–å·çš„å…¬äº¤è½¦ä¸”æ­ä¹˜å…¬äº¤æ¬¡æ•°ä¸é™ã€‚
>
> å‡å®šå°æ‰£èµ·å§‹ç«™ç‚¹è®°ä½œ 0ï¼Œç§‹æ—¥å¸‚é›†ç«™ç‚¹è®°ä½œ targetï¼Œè¯·è¿”å›å°æ‰£æŠµè¾¾ç§‹æ—¥å¸‚é›†æœ€å°‘éœ€è¦èŠ±è´¹å¤šå°‘æ—¶é—´ã€‚ç”±äºæ•°å­—è¾ƒå¤§ï¼Œæœ€ç»ˆç­”æ¡ˆéœ€è¦å¯¹ 1000000007 (1e9 + 7) å–æ¨¡ã€‚
>
> æ³¨æ„ï¼šå°æ‰£å¯åœ¨ç§»åŠ¨è¿‡ç¨‹ä¸­åˆ°è¾¾ç¼–å·å¤§äº target çš„ç«™ç‚¹ã€‚
>

> **æç¤ºï¼š**
> - 1 <= target <= 10^9
> - 1 <= jump.length, cost.length <= 10
> - 2 <= jump[i] <= 10^6
> - 1 <= inc, dec, cost[i] <= 10^6
> ---
> - æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
> - é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/meChtZ
> - è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

### æ–¹æ³•ï¼šè®°å¿†åŒ–æœç´¢

å°†é—®é¢˜çœ‹ä½œæ±‚ä»ç»ˆç‚¹ $\Rightarrow$ èµ·ç‚¹æœ€å°‘éœ€è¦èŠ±è´¹æ—¶é—´ï¼Œä½¿ç«™ç‚¹å· n å‡å°‘æœ€å¿«çš„æ–¹æ³•ä¸ºä»¥ä¸‹ä¹‹ä¸€ï¼š

1. å‘å·¦èµ°å‡ ä¸ªç«™ç‚¹ä½¿åˆ°è¾¾ç«™ç‚¹å·æ­£å¥½ä¸º `jump[i]` çš„æ•´æ•°å€ï¼Œç„¶åèŠ±è´¹ `cost[i]` æ—¶é—´ç§»åŠ¨è‡³ `n//jump[i]` ç«™ç‚¹
2. å‘å³èµ°å‡ ä¸ªç«™ç‚¹ä½¿åˆ°è¾¾ç«™ç‚¹å·æ­£å¥½ä¸º `jump[i]` çš„æ•´æ•°å€ï¼Œç„¶åèŠ±è´¹ `cost[i]` æ—¶é—´ç§»åŠ¨è‡³ `n//jump[i]+1` ç«™ç‚¹

å¯ä»¥å¾—åˆ°ï¼š

- ä»ç«™ç‚¹ n å›åˆ°èµ·ç‚¹ 0 çš„æœ€çŸ­æ—¶é—´ = min( 
  - å‘å·¦èµ° `n%jump[i]` ä¸ªç«™åˆ°è¾¾ `(n-n%jump[i])` + èŠ±è´¹ `cost[i]` æ—¶é—´ç§»åŠ¨è‡³ `n//jump[i]` ç«™ç‚¹ + ä»ç«™ç‚¹ `n//jump[i]` å›åˆ°èµ·ç‚¹ 0 çš„æœ€çŸ­æ—¶é—´ï¼Œ
  - å‘å³èµ° `(jump[i]-n%jump[i])` ä¸ªç«™åˆ°è¾¾ `(n-n%jump[i]+jump[i])` + èŠ±è´¹ `cost[i]` æ—¶é—´ç§»åŠ¨è‡³ `n//jump[i]+1` ç«™ç‚¹ + ä»ç«™ç‚¹ `n//jump[i]` å›åˆ°èµ·ç‚¹ 0 çš„æœ€çŸ­æ—¶é—´)

### æ³¨æ„å¤„ç†ä»¥ä¸‹æƒ…å†µâš ï¸ 

- **n<jump[i]**ï¼Œæ­¤æ—¶æ³¨æ„åœæ­¢é€’å½’
- **n%jump[i] == 0**ï¼Œæ­¤æ—¶ä¸ç”¨å‘å·¦æˆ–è€…å‘å³èµ°ï¼Œç›´æ¥èŠ±è´¹ `cost[i]` æ—¶é—´ç§»åŠ¨è‡³ `n//jump[i]` ç«™ç‚¹å³å¯

### ä»£ç å¦‚ä¸‹ï¼š

```python
class Solution:
    def dfs(self, pos: int) -> int:
        # print(pos)
        if pos in self.memo.keys():
            return self.memo[pos]
        ans = self.inc*pos
        for i in range(len(self.jump)):
            if not pos%jump[i]:
                ans = min(ans, cost[i]+self.dfs(pos//jump[i]))
            elif pos < jump[i]:
                ans = min(ans,(self.jump[i] - pos%self.jump[i])*dec+cost[i]+ inc)   else:
                ans = min(ans, (pos%jump[i])*inc+cost[i]+self.dfs(pos//jump[i],inc,dec,jump,cost), (jump[i] - pos%jump[i])*dec+cost[i]+self.dfs(pos//jump[i]+1,inc,dec,jump,cost))
        self.memo[pos] = ans
        return ans
    def busRapidTransit(self, target: int, inc: int, dec: int, jump: List[int], cost: List[int]) -> int:
        self.memo = {0:0,1:inc}
        self.maxTime = inc*target
        self.inc = inc
        self.dec = dec
        self.jump = jump
        self.cost = cost
        return self.dfs(target)%int(1e9+7)
        print(self.memo)
```

